<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุงููุง ุทูุง - ูุฑูุดฺฏุงู ุขููุงู ูุงู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'vazir': ['Vazir', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Vazir:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Vazir', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .bread-card { transition: all 0.3s ease; }
        .bread-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .chat-bubble { animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }
        .notification { animation: slideIn 0.5s ease-out; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .star-rating { color: #fbbf24; }
        .filter-btn.active { background: #8b5cf6; color: white; }
        .search-highlight { background: yellow; }
        .loading { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Login/Register Screen -->
    <div id="authScreen" class="min-h-screen gradient-bg flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4">๐</div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">ูุงููุง ุทูุง</h1>
                <p class="text-gray-600">ุจู ูุฑูุดฺฏุงู ุขููุงู ูุงู ุฎูุด ุขูุฏุฏ</p>
            </div>

            <!-- Login Form -->
            <div id="loginSection">
                <h2 class="text-2xl font-bold text-center mb-6">ูุฑูุฏ ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ</h2>
                <form id="mainLoginForm">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ฺฉุงุฑุจุฑ ุง ุงูู</label>
                        <input type="text" id="mainUsernameInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ูุงู ฺฉุงุฑุจุฑ ุง ุงูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุฑูุฒ ุนุจูุฑ</label>
                        <input type="password" id="mainPasswordInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุฑูุฒ ุนุจูุฑ" required>
                    </div>
                    <div class="flex items-center justify-between mb-6">
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-2">
                            <span class="text-sm text-gray-600">ูุฑุง ุจู ุฎุงุทุฑ ุจุณูพุงุฑ</span>
                        </label>
                        <button type="button" id="forgotPasswordBtn" class="text-sm text-purple-600 hover:text-purple-800">ูุฑุงููุด ุฑูุฒ ุนุจูุฑุ</button>
                    </div>
                    <button type="submit" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold transition-all duration-300 mb-4">
                        ูุฑูุฏ
                    </button>
                </form>
                <div class="text-center">
                    <span class="text-gray-600">ุญุณุงุจ ฺฉุงุฑุจุฑ ูุฏุงุฑุฏุ</span>
                    <button id="showRegisterBtn" class="text-purple-600 hover:text-purple-800 font-semibold">ุซุจุช ูุงู ฺฉูุฏ</button>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerSection" class="hidden">
                <h2 class="text-2xl font-bold text-center mb-6">ุซุจุช ูุงู</h2>
                <form id="registerForm">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ู ูุงู ุฎุงููุงุฏฺฏ</label>
                        <input type="text" id="fullNameInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ูุงู ฺฉุงูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ฺฉุงุฑุจุฑ</label>
                        <input type="text" id="regUsernameInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ูุงู ฺฉุงุฑุจุฑ ุฏูุฎูุงู" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุงูู</label>
                        <input type="email" id="emailInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุงูู ุดูุง" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุดูุงุฑู ุชููู</label>
                        <input type="tel" id="phoneInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="09xxxxxxxxx" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุฑูุฒ ุนุจูุฑ</label>
                        <input type="password" id="regPasswordInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุฑูุฒ ุนุจูุฑ (ุญุฏุงูู 6 ฺฉุงุฑุงฺฉุชุฑ)" required minlength="6">
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ</label>
                        <input type="password" id="confirmPasswordInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ" required>
                    </div>
                    <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-all duration-300 mb-4">
                        ุซุจุช ูุงู
                    </button>
                </form>
                <div class="text-center">
                    <span class="text-gray-600">ูุจูุงู ุซุจุช ูุงู ฺฉุฑุฏูโุงุฏุ</span>
                    <button id="showLoginBtn" class="text-purple-600 hover:text-purple-800 font-semibold">ูุงุฑุฏ ุดูุฏ</button>
                </div>
            </div>

            <!-- Forgot Password Form -->
            <div id="forgotPasswordSection" class="hidden">
                <h2 class="text-2xl font-bold text-center mb-6">ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ</h2>
                <p class="text-gray-600 text-center mb-6">ุงูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ููฺฉ ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ ุจุฑุงุชุงู ุงุฑุณุงู ุดูุฏ</p>
                <form id="forgotPasswordForm">
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุงูู</label>
                        <input type="email" id="forgotEmailInput" class="w-full px-3 py-3 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุงูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold transition-all duration-300 mb-4">
                        ุงุฑุณุงู ููฺฉ ุจุงุฒุงุจ
                    </button>
                </form>
                <div class="text-center">
                    <button id="backToLoginBtn" class="text-purple-600 hover:text-purple-800 font-semibold">ุจุงุฒฺฏุดุช ุจู ูุฑูุฏ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Website (Hidden Initially) -->
    <div id="mainWebsite" class="hidden">
        <!-- Header -->
        <header class="gradient-bg text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="text-3xl">๐</div>
                    <h1 class="text-2xl font-bold">ูุงููุง ุทูุง</h1>
                </div>
                
                <!-- Search Bar -->
                <div class="hidden md:flex flex-1 max-w-md mx-8">
                    <div class="relative w-full">
                        <input id="searchInput" type="text" placeholder="ุฌุณุชุฌู ูุงู..." class="w-full px-4 py-2 rounded-lg text-gray-800 pr-10">
                        <div class="absolute right-3 top-2.5 text-gray-500">๐</div>
                    </div>
                </div>

                <div class="flex items-center space-x-4 space-x-reverse">
                    <!-- User Account -->
                    <div class="relative">
                        <button id="userBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all duration-300 flex items-center space-x-2 space-x-reverse">
                            <span>๐ค</span>
                            <span id="userName">ุญุณุงุจ ฺฉุงุฑุจุฑ</span>
                        </button>
                        <div id="userMenu" class="hidden absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 text-gray-800">
                            <a href="#" id="profileBtn" class="block px-4 py-2 hover:bg-gray-100">ูพุฑููุงู ูู</a>
                            <a href="#" id="ordersBtn" class="block px-4 py-2 hover:bg-gray-100">ุณูุงุฑุดุงุช ูู</a>
                            <a href="#" id="wishlistBtn" class="block px-4 py-2 hover:bg-gray-100">ุนูุงููโููุฏโูุง</a>
                            <hr class="my-2">
                            <a href="#" id="logoutBtn" class="block px-4 py-2 hover:bg-gray-100 text-red-600">ุฎุฑูุฌ ุงุฒ ุญุณุงุจ</a>
                        </div>
                    </div>
                    
                    <!-- Cart -->
                    <div class="relative">
                        <button id="cartBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all duration-300 flex items-center space-x-2 space-x-reverse">
                            <span>๐</span>
                            <span class="hidden md:inline">ุณุจุฏ ูุงู</span>
                            <span id="cartCount" class="bg-red-500 text-white rounded-full px-2 py-1 text-xs">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-16">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-4">ูุงู ุชุงุฒู ู ฺฏุฑูุ ุฏุฑุจ ููุฒู ุดูุง</h2>
            <p class="text-xl mb-8">ุจุด ุงุฒ ฒฐ ููุน ูุงู ุณูุช ู ูุฏุฑู ุจุง ฺฉูุช ุจุงูุง</p>
            <div class="flex justify-center space-x-4 space-x-reverse">
                <button id="viewProductsBtn" class="bg-white text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105">
                    ูุดุงูุฏู ูุญุตููุงุช
                </button>
                <button id="contactUsBtn" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-purple-600 transition-all duration-300">
                    ุชูุงุณ ุจุง ูุง
                </button>
            </div>
        </div>
    </section>

    <!-- Filters -->
    <section class="py-8 bg-white shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap justify-center gap-4 mb-6">
                <button class="filter-btn active px-6 py-2 rounded-full border-2 border-purple-500 transition-all duration-300" data-category="all">
                    ููู ูุญุตููุงุช
                </button>
                <button class="filter-btn px-6 py-2 rounded-full border-2 border-purple-500 transition-all duration-300" data-category="traditional">
                    ูุงูโูุง ุณูุช
                </button>
                <button class="filter-btn px-6 py-2 rounded-full border-2 border-purple-500 transition-all duration-300" data-category="modern">
                    ูุงูโูุง ูุฏุฑู
                </button>
                <button class="filter-btn px-6 py-2 rounded-full border-2 border-purple-500 transition-all duration-300" data-category="sweet">
                    ูุงูโูุง ุดุฑู
                </button>
                <button class="filter-btn px-6 py-2 rounded-full border-2 border-purple-500 transition-all duration-300" data-category="healthy">
                    ูุงูโูุง ุณุงูู
                </button>
            </div>
            
            <div class="flex justify-center">
                <select id="sortSelect" class="px-4 py-2 border rounded-lg">
                    <option value="name">ูุฑุชุจโุณุงุฒ ุจุฑ ุงุณุงุณ ูุงู</option>
                    <option value="price-low">ููุช: ฺฉู ุจู ุฒุงุฏ</option>
                    <option value="price-high">ููุช: ุฒุงุฏ ุจู ฺฉู</option>
                    <option value="rating">ุงูุชุงุฒ</option>
                </select>
            </div>
        </div>
    </section>

    <!-- Video Tutorials Section -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">ุขููุฒุด ุชูู ูุงูโูุง</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="videosGrid">
                <!-- Video tutorials will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Store Information Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">ุฏุฑุจุงุฑู ูุงููุง ุทูุง</h3>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
                <!-- About Us -->
                <div class="space-y-6">
                    <div class="bg-gradient-to-br from-purple-50 to-blue-50 p-8 rounded-lg">
                        <div class="flex items-center mb-4">
                            <span class="text-4xl ml-4">๐ช</span>
                            <h4 class="text-2xl font-bold text-gray-800">ุฏุงุณุชุงู ูุง</h4>
                        </div>
                        <p class="text-gray-600 leading-relaxed mb-4">
                            ูุงููุง ุทูุง ุงุฒ ุณุงู ฑณธต ุจุง ูุฏู ุงุฑุงุฆู ุจูุชุฑู ู ุชุงุฒูโุชุฑู ูุงูโูุง ุณูุช ู ูุฏุฑู ูุนุงูุช ุฎูุฏ ุฑุง ุขุบุงุฒ ฺฉุฑุฏ. 
                            ูุง ุจุง ุจุด ุงุฒ ฑต ุณุงู ุชุฌุฑุจู ุฏุฑ ุตูุนุช ูุงููุงุ ูููุงุฑู ฺฉูุช ู ุฑุถุงุช ูุดุชุฑุงู ุฑุง ุฏุฑ ุงูููุช ูุฑุงุฑ ุฏุงุฏูโุงู.
                        </p>
                        <p class="text-gray-600 leading-relaxed">
                            ุชู ูุง ูุชุดฺฉู ุงุฒ ูุงููุงุงู ูุงูุฑ ู ุจุง ุชุฌุฑุจู ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ุจูุชุฑู ููุงุฏ ุงููู ู ุฑูุดโูุง ุณูุชุ 
                            ูุงูโูุง ุจุง ุทุนู ู ุนุทุฑ ุจโูุธุฑ ุชููุฏ ูโฺฉููุฏ.
                        </p>
                    </div>
                </div>

                <!-- Our Values -->
                <div class="space-y-6">
                    <div class="bg-gradient-to-br from-green-50 to-yellow-50 p-8 rounded-lg">
                        <div class="flex items-center mb-4">
                            <span class="text-4xl ml-4">โญ</span>
                            <h4 class="text-2xl font-bold text-gray-800">ุงุฑุฒุดโูุง ูุง</h4>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-start space-x-3 space-x-reverse">
                                <span class="text-2xl">๐</span>
                                <div>
                                    <h5 class="font-semibold text-gray-800">ฺฉูุช ุจุฑุชุฑ</h5>
                                    <p class="text-gray-600 text-sm">ุงุณุชูุงุฏู ุงุฒ ุจูุชุฑู ููุงุฏ ุงููู ู ุฑุนุงุช ุงุณุชุงูุฏุงุฑุฏูุง ุจูุฏุงุดุช</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3 space-x-reverse">
                                <span class="text-2xl">๐ฅ</span>
                                <div>
                                    <h5 class="font-semibold text-gray-800">ุชุงุฒฺฏ ูุทูู</h5>
                                    <p class="text-gray-600 text-sm">ุชููุฏ ุฑูุฒุงูู ู ุชุญูู ูุงูโูุง ุชุงุฒู ู ฺฏุฑู</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3 space-x-reverse">
                                <span class="text-2xl">๐</span>
                                <div>
                                    <h5 class="font-semibold text-gray-800">ุชุญูู ุณุฑุน</h5>
                                    <p class="text-gray-600 text-sm">ุงุฑุณุงู ุฏุฑ ฺฉูุชุฑู ุฒูุงู ููฺฉู ุชุง ุฏุฑุจ ููุฒู</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3 space-x-reverse">
                                <span class="text-2xl">๐ฐ</span>
                                <div>
                                    <h5 class="font-semibold text-gray-800">ููุช ููุงุณุจ</h5>
                                    <p class="text-gray-600 text-sm">ุจูุชุฑู ฺฉูุช ุจุง ููุงุณุจโุชุฑู ููุช</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-16">
                <div class="text-center bg-purple-50 p-6 rounded-lg">
                    <div class="text-3xl font-bold text-purple-600 mb-2">15+</div>
                    <div class="text-gray-600">ุณุงู ุชุฌุฑุจู</div>
                </div>
                <div class="text-center bg-green-50 p-6 rounded-lg">
                    <div class="text-3xl font-bold text-green-600 mb-2">50,000+</div>
                    <div class="text-gray-600">ูุดุชุฑ ุฑุงุถ</div>
                </div>
                <div class="text-center bg-blue-50 p-6 rounded-lg">
                    <div class="text-3xl font-bold text-blue-600 mb-2">24</div>
                    <div class="text-gray-600">ููุน ูุงู ูุฎุชูู</div>
                </div>
                <div class="text-center bg-yellow-50 p-6 rounded-lg">
                    <div class="text-3xl font-bold text-yellow-600 mb-2">1000+</div>
                    <div class="text-gray-600">ุณูุงุฑุด ุฑูุฒุงูู</div>
                </div>
            </div>

            <!-- Services -->
            <div class="bg-gray-50 p-8 rounded-lg mb-16">
                <h4 class="text-2xl font-bold text-center mb-8 text-gray-800">ุฎุฏูุงุช ูุง</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="text-3xl mb-4">๐</div>
                        <h5 class="font-semibold mb-2">ุณูุงุฑุด ุขููุงู</h5>
                        <p class="text-gray-600 text-sm">ุงูฺฉุงู ุณูุงุฑุด ุขุณุงู ู ุณุฑุน ุงุฒ ุทุฑู ูุจุณุงุช</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="text-3xl mb-4">๐</div>
                        <h5 class="font-semibold mb-2">ุงุฑุณุงู ุฑุงฺฏุงู</h5>
                        <p class="text-gray-600 text-sm">ุงุฑุณุงู ุฑุงฺฏุงู ุจุฑุง ุฎุฑุฏูุง ุจุงูุง ตฐ ูุฒุงุฑ ุชููุงู</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="text-3xl mb-4">โฐ</div>
                        <h5 class="font-semibold mb-2">ุชุญูู ณฐ ุฏูููโุง</h5>
                        <p class="text-gray-600 text-sm">ุชุญูู ุณุฑุน ุฏุฑ ฺฉูุชุฑ ุงุฒ ณฐ ุฏููู</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="text-3xl mb-4">๐</div>
                        <h5 class="font-semibold mb-2">ุณูุงุฑุด ูฺู</h5>
                        <p class="text-gray-600 text-sm">ุงูฺฉุงู ุณูุงุฑุด ูุงูโูุง ูฺู ุจุฑุง ููุงุณุจุชโูุง</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="text-3xl mb-4">๐ณ</div>
                        <h5 class="font-semibold mb-2">ูพุฑุฏุงุฎุช ุขููุงู</h5>
                        <p class="text-gray-600 text-sm">ุงูฺฉุงู ูพุฑุฏุงุฎุช ุขููุงู ู ููุฏ</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="text-3xl mb-4">๐</div>
                        <h5 class="font-semibold mb-2">ูพุดุชุจุงู ฒด/ท</h5>
                        <p class="text-gray-600 text-sm">ูพุดุชุจุงู ู ูุดุงูุฑู ุฏุฑ ุชูุงู ุณุงุนุงุช</p>
                    </div>
                </div>
            </div>

            <!-- Quality Assurance -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-gradient-to-br from-orange-50 to-red-50 p-8 rounded-lg">
                    <div class="flex items-center mb-4">
                        <span class="text-4xl ml-4">๐</span>
                        <h4 class="text-2xl font-bold text-gray-800">ุชุถูู ฺฉูุช</h4>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">โ</span>
                            <span class="text-gray-700">ุงุณุชูุงุฏู ุงุฒ ุขุฑุฏ ุฏุฑุฌู ฺฉ</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">โ</span>
                            <span class="text-gray-700">ุฑุนุงุช ฺฉุงูู ุงุตูู ุจูุฏุงุดุช</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">โ</span>
                            <span class="text-gray-700">ุชููุฏ ุฑูุฒุงูู ู ุชุงุฒู</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">โ</span>
                            <span class="text-gray-700">ุจุณุชูโุจูุฏ ุงุณุชุงูุฏุงุฑุฏ</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">โ</span>
                            <span class="text-gray-700">ฺฉูุชุฑู ฺฉูุช ูุณุชูุฑ</span>
                        </div>
                    </div>
                </div>

                <div class="bg-gradient-to-br from-teal-50 to-cyan-50 p-8 rounded-lg">
                    <div class="flex items-center mb-4">
                        <span class="text-4xl ml-4">๐</span>
                        <h4 class="text-2xl font-bold text-gray-800">ูุณุฆููุช ุงุฌุชูุงุน</h4>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">๐ฑ</span>
                            <span class="text-gray-700">ุงุณุชูุงุฏู ุงุฒ ููุงุฏ ุทุจุน ู ุงุฑฺฏุงูฺฉ</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">โป๏ธ</span>
                            <span class="text-gray-700">ุจุณุชูโุจูุฏ ูุงุจู ุจุงุฒุงูุช</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">๐ค</span>
                            <span class="text-gray-700">ุญูุงุช ุงุฒ ฺฉุดุงูุฑุฒุงู ูุญู</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">๐</span>
                            <span class="text-gray-700">ฺฉุงูุด ุถุงุนุงุช ุบุฐุง</span>
                        </div>
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-green-500">๐ฏ</span>
                            <span class="text-gray-700">ูุดุงุฑฺฉุช ุฏุฑ ุจุฑูุงููโูุง ุฎุฑู</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">ูุญุตููุงุช ูุง</h3>
            <div id="loadingSpinner" class="hidden text-center py-8">
                <div class="loading inline-block w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full"></div>
                <p class="mt-2">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8" id="productsGrid">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>
    </div> <!-- End of mainWebsite -->

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ูุฑูุฏ / ุซุจุช ูุงู</h3>
                    <button id="closeLogin" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                <form id="loginForm">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ฺฉุงุฑุจุฑ</label>
                        <input type="text" id="usernameInput" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ูุงู ฺฉุงุฑุจุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ">
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2">ุฑูุฒ ุนุจูุฑ</label>
                        <input type="password" id="passwordInput" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุฑูุฒ ุนุจูุฑ">
                    </div>
                    <button type="submit" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                        ูุฑูุฏ
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full p-6 max-h-96 overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold">ุณุจุฏ ูุงู ุดูุง</h3>
                    <button id="closeCart" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                <div id="cartItems" class="space-y-4 mb-6">
                    <!-- Cart items will be shown here -->
                </div>
                <div class="border-t pt-4">
                    <div class="flex justify-between items-center mb-2">
                        <span>ุฌูุน ฺฉู:</span>
                        <span id="subtotalPrice">0 ุชููุงู</span>
                    </div>
                    <div class="flex justify-between items-center mb-2">
                        <span>ูุฒูู ุงุฑุณุงู:</span>
                        <span id="shippingPrice">5,000 ุชููุงู</span>
                    </div>
                    <div class="flex justify-between items-center mb-4 text-lg font-bold">
                        <span>ูุฌููุน ููุง:</span>
                        <span id="totalPrice">0 ุชููุงู</span>
                    </div>
                    <button id="checkoutBtn" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                        ุชฺฉูู ุฎุฑุฏ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Chat -->
    <div id="chatWidget" class="fixed bottom-6 left-6 z-50">
        <button id="chatToggle" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-full shadow-lg chat-bubble">
            ๐ฌ
        </button>
        <div id="chatBox" class="hidden absolute bottom-16 left-0 bg-white rounded-lg shadow-xl w-80 h-96">
            <div class="bg-blue-500 text-white p-4 rounded-t-lg">
                <div class="flex justify-between items-center">
                    <span class="font-semibold">ูพุดุชุจุงู ุขููุงู</span>
                    <button id="closeChatBtn" class="text-white hover:text-gray-200">โ</button>
                </div>
                <div class="text-sm opacity-90">๐ข ุขููุงู - ูพุงุณุฎ ููุฑ</div>
            </div>
            <div id="chatMessages" class="p-4 h-64 overflow-y-auto bg-gray-50">
                <div class="bg-blue-100 p-3 rounded-lg mb-3">
                    <div class="font-semibold text-blue-800">ูุดุงูุฑ ูุฑูุด</div>
                    <div class="text-sm">ุณูุงู! ฺุทูุฑ ูโุชููู ฺฉูฺฉุชูู ฺฉููุ ๐</div>
                </div>
            </div>
            <div class="p-4 border-t">
                <div class="flex space-x-2 space-x-reverse">
                    <input id="chatInput" type="text" placeholder="ูพุงู ุฎูุฏ ุฑุง ุจููุณุฏ..." class="flex-1 border rounded-lg px-3 py-2 text-sm">
                    <button id="sendChatBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                        ุงุฑุณุงู
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ูพุฑููุงู ฺฉุงุฑุจุฑ</h3>
                    <button id="closeProfile" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                <div id="profileContent" class="space-y-4">
                    <!-- Profile content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Orders Modal -->
    <div id="ordersModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-4xl w-full p-6 max-h-96 overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ุณูุงุฑุดุงุช ูู</h3>
                    <button id="closeOrders" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                <div id="ordersContent">
                    <!-- Orders will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div id="wishlistModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-4xl w-full p-6 max-h-96 overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ุนูุงููโููุฏโูุง ูู</h3>
                    <button id="closeWishlist" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                <div id="wishlistContent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Wishlist items will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full p-6 max-h-96 overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ุชฺฉูู ุฎุฑุฏ</h3>
                    <button id="closeCheckout" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                
                <form id="checkoutForm">
                    <!-- Delivery Information -->
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold mb-4">ุงุทูุงุนุงุช ุชุญูู</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ู ูุงู ุฎุงููุงุฏฺฏ</label>
                                <input type="text" id="deliveryName" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" required>
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุดูุงุฑู ุชููู</label>
                                <input type="tel" id="deliveryPhone" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" required>
                            </div>
                        </div>
                        <div class="mt-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">ุขุฏุฑุณ ฺฉุงูู</label>
                            <textarea id="deliveryAddress" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ุขุฏุฑุณ ฺฉุงูู ุจุฑุง ุชุญูู ุณูุงุฑุด" required></textarea>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold mb-4">ุฑูุด ูพุฑุฏุงุฎุช</h4>
                        <div class="space-y-3">
                            <label class="flex items-center">
                                <input type="radio" name="paymentMethod" value="card" class="ml-2" checked>
                                <span>๐ณ ูพุฑุฏุงุฎุช ุจุง ฺฉุงุฑุช</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="paymentMethod" value="cash" class="ml-2">
                                <span>๐ต ูพุฑุฏุงุฎุช ููุฏ ููฺฏุงู ุชุญูู</span>
                            </label>
                        </div>
                    </div>

                    <!-- Card Information -->
                    <div id="cardInfo" class="mb-6">
                        <h4 class="text-lg font-semibold mb-4">ุงุทูุงุนุงุช ฺฉุงุฑุช</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="md:col-span-2">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุดูุงุฑู ฺฉุงุฑุช</label>
                                <input type="text" id="cardNumber" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="1234 5678 9012 3456" maxlength="19">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm font-bold mb-2">ุชุงุฑุฎ ุงููุถุง</label>
                                <input type="text" id="cardExpiry" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm font-bold mb-2">CVV</label>
                                <input type="text" id="cardCvv" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="123" maxlength="4">
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-gray-700 text-sm font-bold mb-2">ูุงู ุตุงุญุจ ฺฉุงุฑุช</label>
                                <input type="text" id="cardHolder" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500" placeholder="ูุงู ู ูุงู ุฎุงููุงุฏฺฏ ุจู ุงูฺฏูุณ">
                            </div>
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="mb-6 bg-gray-50 p-4 rounded-lg">
                        <h4 class="text-lg font-semibold mb-3">ุฎูุงุตู ุณูุงุฑุด</h4>
                        <div id="checkoutSummary" class="space-y-2 mb-3">
                            <!-- Order items will be shown here -->
                        </div>
                        <div class="border-t pt-3 space-y-2">
                            <div class="flex justify-between">
                                <span>ุฌูุน ฺฉู:</span>
                                <span id="checkoutSubtotal">0 ุชููุงู</span>
                            </div>
                            <div class="flex justify-between">
                                <span>ูุฒูู ุงุฑุณุงู:</span>
                                <span id="checkoutShipping">0 ุชููุงู</span>
                            </div>
                            <div class="flex justify-between font-bold text-lg">
                                <span>ูุฌููุน ููุง:</span>
                                <span id="checkoutTotal">0 ุชููุงู</span>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                        ุชุงุฏ ู ูพุฑุฏุงุฎุช
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Invoice Modal -->
    <div id="invoiceModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ูุงฺฉุชูุฑ ุฎุฑุฏ</h3>
                    <button id="closeInvoice" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                
                <div id="invoiceContent" class="space-y-6">
                    <!-- Invoice content will be generated here -->
                </div>
                
                <div class="flex space-x-4 space-x-reverse mt-6">
                    <button id="printInvoice" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                        ๐จ๏ธ ฺุงูพ ูุงฺฉุชูุฑ
                    </button>
                    <button id="downloadInvoice" class="flex-1 bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                        ๐ฅ ุฏุงูููุฏ PDF
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ุชูุงุณ ุจุง ูุง</h3>
                    <button id="closeContact" class="text-gray-500 hover:text-gray-700">โ</button>
                </div>
                <div class="space-y-4">
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐</span>
                        <div>
                            <div class="font-semibold">ุชููู</div>
                            <div class="text-gray-600">021-12345678</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐ฑ</span>
                        <div>
                            <div class="font-semibold">ููุจุงู</div>
                            <div class="text-gray-600">09123456789</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐ง</span>
                        <div>
                            <div class="font-semibold">ุงูู</div>
                            <div class="text-gray-600">info@goldenbakery.ir</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐</span>
                        <div>
                            <div class="font-semibold">ุขุฏุฑุณ</div>
                            <div class="text-gray-600">ุชูุฑุงูุ ุฎุงุจุงู ููุนุตุฑุ ูพูุงฺฉ ฑฒณ</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐</span>
                        <div>
                            <div class="font-semibold">ุณุงุนุงุช ฺฉุงุฑ</div>
                            <div class="text-gray-600">ุดูุจู ุชุง ูพูุฌโุดูุจู: ธ ุตุจุญ ุชุง ฑฐ ุดุจ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="fixed top-4 left-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg hidden notification z-50">
        <span id="notificationText"></span>
    </div>

    <script>
        // Extended products data
        const products = [
            // Traditional breads
            { id: 1, name: 'ูุงู ุณูฺฏฺฉ', price: 8000, image: '๐ฅ', description: 'ูุงู ุณูุช ุณูฺฏฺฉ ุชุงุฒู ู ฺฏุฑู', category: 'traditional', rating: 4.8, discount: 0 },
            { id: 2, name: 'ูุงู ุจุฑุจุฑ', price: 6000, image: '๐', description: 'ูุงู ุจุฑุจุฑ ูุฑู ู ุฎูุดูุฒู', category: 'traditional', rating: 4.7, discount: 10 },
            { id: 3, name: 'ูุงู ุชุงูุชูู', price: 7000, image: '๐ซ', description: 'ูุงู ุชุงูุชูู ูุงุฒฺฉ ู ูุฐุฐ', category: 'traditional', rating: 4.6, discount: 0 },
            { id: 4, name: 'ูุงู ููุงุด', price: 5000, image: '๐ฏ', description: 'ูุงู ููุงุด ูุฑู ู ุงูุนุทุงูโูพุฐุฑ', category: 'traditional', rating: 4.5, discount: 15 },
            { id: 5, name: 'ูุงู ุฏูุบ', price: 9000, image: '๐ฅฏ', description: 'ูุงู ุฏูุบ ุณูุช ุดุฑุงุฒ', category: 'traditional', rating: 4.9, discount: 0 },
            
            // Modern breads
            { id: 6, name: 'ูุงู ูุงูุชุฒ', price: 12000, image: '๐ฅจ', description: 'ูุงู ูุงูุชุฒ ุจุง ุทุนูโูุง ูุฎุชูู', category: 'modern', rating: 4.4, discount: 20 },
            { id: 7, name: 'ูุงู ูพุชุฒุง', price: 15000, image: '๐', description: 'ุฎูุฑ ูพุชุฒุง ุขูุงุฏู', category: 'modern', rating: 4.3, discount: 0 },
            { id: 8, name: 'ูุงู ููุจุฑฺฏุฑ', price: 18000, image: '๐', description: 'ูุงู ููุจุฑฺฏุฑ ูุฑู ู ุชุงุฒู', category: 'modern', rating: 4.2, discount: 0 },
            { id: 9, name: 'ูุงู ุจุงฺฏุช', price: 14000, image: '๐ฅ', description: 'ูุงู ุจุงฺฏุช ูุฑุงูุณู ุงุตู', category: 'modern', rating: 4.6, discount: 0 },
            { id: 10, name: 'ูุงู ฺุงุจุงุชุง', price: 16000, image: '๐', description: 'ูุงู ฺุงุจุงุชุง ุงุชุงูุง', category: 'modern', rating: 4.5, discount: 0 },
            
            // Sweet breads
            { id: 11, name: 'ูุงู ุดุฑูุงู', price: 20000, image: '๐ง', description: 'ูุงู ุดุฑูุงู ุดุฑู ู ูุฑู', category: 'sweet', rating: 4.8, discount: 0 },
            { id: 12, name: 'ูุงู ฺฉุดูุด', price: 22000, image: '๐', description: 'ูุงู ุดุฑู ุจุง ฺฉุดูุด', category: 'sweet', rating: 4.7, discount: 0 },
            { id: 13, name: 'ูุงู ุฏุงุฑฺู', price: 25000, image: '๐', description: 'ูุงู ุฑูู ุจุง ุฏุงุฑฺู', category: 'sweet', rating: 4.9, discount: 0 },
            { id: 14, name: 'ูุงู ุดฺฉูุงุช', price: 28000, image: '๐ซ', description: 'ูุงู ุดุฑู ุจุง ุชฺฉูโูุง ุดฺฉูุงุช', category: 'sweet', rating: 4.6, discount: 0 },
            { id: 15, name: 'ูุงู ุนุณู', price: 24000, image: '๐ฏ', description: 'ูุงู ุดุฑู ุจุง ุนุณู ุทุจุน', category: 'sweet', rating: 4.5, discount: 0 },
            
            // Healthy breads
            { id: 16, name: 'ูุงู ฺฉุงูู', price: 10000, image: '๐พ', description: 'ูุงู ฺฉุงูู ุณุฑุดุงุฑ ุงุฒ ูุจุฑ', category: 'healthy', rating: 4.4, discount: 0 },
            { id: 17, name: 'ูุงู ุฌู', price: 12000, image: '๐พ', description: 'ูุงู ุฌู ููุฏ ุจุฑุง ุณูุงูุช', category: 'healthy', rating: 4.3, discount: 0 },
            { id: 18, name: 'ูุงู ฺุงูุฏุงุฑ', price: 13000, image: '๐พ', description: 'ูุงู ฺุงูุฏุงุฑ ุบู ุงุฒ ูพุฑูุชุฆู', category: 'healthy', rating: 4.2, discount: 0 },
            { id: 19, name: 'ูุงู ุจุฏูู ฺฏููุชู', price: 18000, image: '๐ฟ', description: 'ูุงู ูุฎุตูุต ุงูุฑุงุฏ ุญุณุงุณ ุจู ฺฏููุชู', category: 'healthy', rating: 4.1, discount: 0 },
            { id: 20, name: 'ูุงู ฺฉููุง', price: 20000, image: '๐ฑ', description: 'ูุงู ุณููพุฑููุฏ ุจุง ฺฉููุง', category: 'healthy', rating: 4.0, discount: 0 },
            
            // Additional varieties
            { id: 21, name: 'ูุงู ุฐุฑุช', price: 11000, image: '๐ฝ', description: 'ูุงู ุฐุฑุช ุทูุง ู ุฎูุดูุฒู', category: 'healthy', rating: 4.3, discount: 0 },
            { id: 22, name: 'ูุงู ุณุงู', price: 14000, image: 'โซ', description: 'ูุงู ุณุงู ุจุง ุขุฑุฏ ุณุงู', category: 'healthy', rating: 4.2, discount: 0 },
            { id: 23, name: 'ูุงู ูพูุฑ', price: 19000, image: '๐ง', description: 'ูุงู ุจุง ูพูุฑ ุฐูุจ ุดุฏู', category: 'modern', rating: 4.7, discount: 0 },
            { id: 24, name: 'ูุงู ุณุฑ', price: 16000, image: '๐ง', description: 'ูุงู ูุนุทุฑ ุจุง ุณุฑ ู ุณุจุฒุฌุงุช', category: 'modern', rating: 4.4, discount: 0 }
        ];

        let cart = [];
        let currentUser = null;
        let filteredProducts = [...products];
        let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        let orders = JSON.parse(localStorage.getItem('orders')) || [];

        // Video tutorials data
        const videoTutorials = [
            {
                id: 1,
                title: 'ุทุฑุฒ ุชูู ูุงู ุณูฺฏฺฉ ุณูุช',
                description: 'ุขููุฒุด ฺฉุงูู ุชูู ูุงู ุณูฺฏฺฉ ุจุง ุฑูุด ุณูุช',
                thumbnail: '<video   src="7393dad1399ec1cf3965f04f66245e5558799008-480p.mp4"    controls="controls"    widt="0px"    height="0px"/><video/>',
                                duration: '12:30',
                difficulty: 'ูุชูุณุท',
                ingredients: ['ุขุฑุฏ ุณูุฏ', 'ุฎูุฑูุงู', 'ุขุจ', 'ููฺฉ', 'ุฑูุบู'],
                steps: [
                    'ูุฎููุท ฺฉุฑุฏู ุขุฑุฏ ุจุง ุขุจ ู ุฎูุฑูุงู',
                    'ูุฑุฒ ุฏุงุฏู ุฎูุฑ ุจู ูุฏุช 10 ุฏููู',
                    'ุงุณุชุฑุงุญุช ุฎูุฑ ุจู ูุฏุช 2 ุณุงุนุช',
                    'ุดฺฉู ุฏุงุฏู ู ูพุฎุช ุฑู ุณูฺฏ ุฏุงุบ'
                ]
            },

            {
                id: 2,
                title: 'ูุญูู ูพุฎุช ูุงู ุจุฑุจุฑ ุฎุงูฺฏ',
                description: 'ุฑุงุฒ ุชูู ูุงู ุจุฑุจุฑ ูุฑู ู ุฎูุดูุฒู ุฏุฑ ุฎุงูู',
                thumbnail: '๐',
                duration: '8:45',
                difficulty: 'ุขุณุงู',
                ingredients: ['ุขุฑุฏ ุณูุฏ', 'ุดุฑ', 'ุฎูุฑูุงู', 'ุดฺฉุฑ', 'ฺฉุฑู'],
                steps: [
                    'ุญู ฺฉุฑุฏู ุฎูุฑูุงู ุฏุฑ ุดุฑ ฺฏุฑู',
                    'ุงุถุงูู ฺฉุฑุฏู ุขุฑุฏ ู ููุงุฏ ุฎุดฺฉ',
                    'ูุฑุฒ ุฏุงุฏู ุชุง ุฎูุฑ ุตุงู ุดูุฏ',
                    'ูพุฎุช ุฏุฑ ูุฑ 200 ุฏุฑุฌู'
                ]
            },
            {
                id: 3,
                title: 'ุขููุฒุด ุชูู ูุงู ุชุงูุชูู',
                description: 'ุทุฑุฒ ุชูู ูุงู ุชุงูุชูู ูุงุฒฺฉ ู ูุฐุฐ',
                thumbnail: '๐ซ',
                duration: '15:20',
                difficulty: 'ุณุฎุช',
                ingredients: ['ุขุฑุฏ ุณูุฏ', 'ุขุจ', 'ููฺฉ', 'ุฑูุบู ุฒุชูู'],
                steps: [
                    'ุชูู ุฎูุฑ ูุฑู ู ุงูุนุทุงูโูพุฐุฑ',
                    'ุชูุณู ุฎูุฑ ุจู ูุณูุชโูุง ฺฉูฺฺฉ',
                    'ูุงุฒฺฉ ฺฉุฑุฏู ุจุง ูุฑุฏูู',
                    'ูพุฎุช ุณุฑุน ุฑู ุชุงุจู ุฏุงุบ'
                ]
            },
            {
                id: 4,
                title: 'ุฑุงุฒ ุชูู ูุงู ุดุฑูุงู',
                description: 'ุขููุฒุด ุชูู ูุงู ุดุฑูุงู ุดุฑู ู ูุฑู',
                thumbnail: '๐ง',
                duration: '18:10',
                difficulty: 'ูุชูุณุท',
                ingredients: ['ุขุฑุฏ ุณูุฏ', 'ุดุฑ', 'ุชุฎูโูุฑุบ', 'ุดฺฉุฑ', 'ฺฉุฑู', 'ุฎูุฑูุงู'],
                steps: [
                    'ูุฎููุท ฺฉุฑุฏู ููุงุฏ ูุฑุทูุจ',
                    'ุงุถุงูู ฺฉุฑุฏู ุขุฑุฏ ุจู ุชุฏุฑุฌ',
                    'ูุฑุฒ ุฏุงุฏู ุฎูุฑ ุชุง ูุฑู ุดูุฏ',
                    'ุชุฎูุฑ ู ูพุฎุช ุฏุฑ ูุฑ'
                ]
            },
            {
                id: 5,
                title: 'ูุงู ููุงุด ุฎุงูฺฏ',
                description: 'ุทุฑุฒ ุชูู ูุงู ููุงุด ูุฑู ู ุงูุนุทุงูโูพุฐุฑ',
                thumbnail: '๐ฏ',
                duration: '10:30',
                difficulty: 'ุขุณุงู',
                ingredients: ['ุขุฑุฏ ุณูุฏ', 'ุขุจ ฺฏุฑู', 'ููฺฉ', 'ุฑูุบู'],
                steps: [
                    'ูุฎููุท ฺฉุฑุฏู ุขุฑุฏ ุจุง ุขุจ ฺฏุฑู',
                    'ุงุถุงูู ฺฉุฑุฏู ููฺฉ ู ุฑูุบู',
                    'ูุฑุฒ ุฏุงุฏู ุฎูุฑ',
                    'ูพุฎุช ุฑู ุชุงุจู ุจุฏูู ุฑูุบู'
                ]
            },
            {
                id: 6,
                title: 'ุขููุฒุด ูุงู ูุงูุชุฒ',
                description: 'ุชูู ูุงู ูุงูุชุฒ ุจุง ุงุดฺฉุงู ูุฎุชูู',
                thumbnail: '๐ฅจ',
                duration: '22:15',
                difficulty: 'ุณุฎุช',
                ingredients: ['ุขุฑุฏ ุณูุฏ', 'ุดุฑ', 'ุชุฎูโูุฑุบ', 'ฺฉุฑู', 'ุฎูุฑูุงู', 'ุชุฒุฆูุงุช'],
                steps: [
                    'ุชูู ุฎูุฑ ุบู',
                    'ุดฺฉู ุฏุงุฏู ุจู ุงุดฺฉุงู ูุฎุชูู',
                    'ุชุฒุฆู ุจุง ุชุฎูโูุฑุบ ู ฺฉูุฌุฏ',
                    'ูพุฎุช ุฏุฑ ูุฑ ุชุง ุทูุง ุดูุฏ'
                ]
            }
        ];

        // Session management - Auto logout when browser closes
        function initializeSession() {
            // Check if user was logged in before
            const sessionUser = sessionStorage.getItem('currentUser');
            const persistentUser = localStorage.getItem('persistentUser');
            
            if (sessionUser) {
                // User was logged in this session
                currentUser = JSON.parse(sessionUser);
                document.getElementById('userName').textContent = currentUser.name || currentUser.username;
                document.getElementById('authScreen').classList.add('hidden');
                document.getElementById('mainWebsite').classList.remove('hidden');
            } else if (persistentUser) {
                // User had "remember me" checked, but session expired
                localStorage.removeItem('persistentUser');
                showNotification('ุฌูุณู ุดูุง ูููุถ ุดุฏู ุงุณุช. ูุทูุงู ุฏูุจุงุฑู ูุงุฑุฏ ุดูุฏ');
            }
        }

        // Save session data
        function saveSession(rememberMe = false) {
            sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
            if (rememberMe) {
                localStorage.setItem('persistentUser', JSON.stringify(currentUser));
            }
        }

        // Clear session data
        function clearSession() {
            sessionStorage.removeItem('currentUser');
            localStorage.removeItem('persistentUser');
        }

        // User management
        function login(username, password = null, rememberMe = false) {
            // Check if user exists in registered users
            const user = registeredUsers.find(u => 
                (u.username === username || u.email === username) && 
                (password ? u.password === password : true)
            );
            
            if (password && !user) {
                showNotification('ูุงู ฺฉุงุฑุจุฑ ุง ุฑูุฒ ุนุจูุฑ ุงุดุชุจุงู ุงุณุช!', 'error');
                return false;
            }
            
            currentUser = user || { name: username, id: Date.now(), username: username };
            document.getElementById('userName').textContent = currentUser.name || currentUser.username;
            
            // Save session
            saveSession(rememberMe);
            
            // Hide auth screen and show main website
            document.getElementById('authScreen').classList.add('hidden');
            document.getElementById('mainWebsite').classList.remove('hidden');
            
            showNotification(`ุฎูุด ุขูุฏุฏ ${currentUser.name || currentUser.username}! ๐`);
            return true;
        }

        function register(userData) {
            // Check if username or email already exists
            const existingUser = registeredUsers.find(u => 
                u.username === userData.username || u.email === userData.email
            );
            
            if (existingUser) {
                showNotification('ูุงู ฺฉุงุฑุจุฑ ุง ุงูู ูุจูุงู ุซุจุช ุดุฏู ุงุณุช!', 'error');
                return false;
            }
            
            // Add new user
            const newUser = {
                id: Date.now(),
                ...userData,
                registeredAt: new Date().toISOString()
            };
            
            registeredUsers.push(newUser);
            localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));
            
            showNotification('ุซุจุช ูุงู ุจุง ููููุช ุงูุฌุงู ุดุฏ! ๐');
            
            // Auto login after registration
            login(userData.username);
            return true;
        }

        function logout() {
            currentUser = null;
            cart = [];
            updateCartUI();
            
            // Clear session data
            clearSession();
            
            // Show auth screen and hide main website
            document.getElementById('mainWebsite').classList.add('hidden');
            document.getElementById('authScreen').classList.remove('hidden');
            
            // Reset forms
            document.getElementById('mainLoginForm').reset();
            showLoginSection();
            
            showNotification('ุจุง ููููุช ุฎุงุฑุฌ ุดุฏุฏ');
        }

        function showLoginSection() {
            document.getElementById('loginSection').classList.remove('hidden');
            document.getElementById('registerSection').classList.add('hidden');
            document.getElementById('forgotPasswordSection').classList.add('hidden');
        }

        function showRegisterSection() {
            document.getElementById('loginSection').classList.add('hidden');
            document.getElementById('registerSection').classList.remove('hidden');
            document.getElementById('forgotPasswordSection').classList.add('hidden');
        }

        function showForgotPasswordSection() {
            document.getElementById('loginSection').classList.add('hidden');
            document.getElementById('registerSection').classList.add('hidden');
            document.getElementById('forgotPasswordSection').classList.remove('hidden');
        }

        // Load video tutorials
        function loadVideoTutorials() {
            const videosGrid = document.getElementById('videosGrid');
            
            videosGrid.innerHTML = videoTutorials.map(video => {
                const difficultyColor = 
                    video.difficulty === 'ุขุณุงู' ? 'bg-green-100 text-green-800' :
                    video.difficulty === 'ูุชูุณุท' ? 'bg-yellow-100 text-yellow-800' :
                    'bg-red-100 text-red-800';
                
                return `
                    <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300">
                        <div class="relative">
                            <div class="bg-gradient-to-br from-purple-400 to-purple-600 h-48 flex items-center justify-center">
                                <div class="text-6xl">${video.thumbnail}</div>
                                <div class="absolute top-2 right-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-sm">
                                    ${video.duration}
                                </div>
                                <div class="absolute bottom-2 left-2 ${difficultyColor} px-2 py-1 rounded text-xs font-semibold">
                                    ${video.difficulty}
                                </div>
                            </div>
                        </div>
                        <div class="p-4">
                            <h4 class="text-lg font-semibold mb-2">${video.title}</h4>
                            <p class="text-gray-600 text-sm mb-3">${video.description}</p>
                            <button onclick="showVideoDetails(${video.id})" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 rounded-lg font-semibold transition-all duration-300">
                                ูุดุงูุฏู ุขููุฒุด
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Show video details
        function showVideoDetails(videoId) {
            const video = videoTutorials.find(v => v.id === videoId);
            if (!video) return;
            
            // Create modal for video details
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-bold">${video.title}</h3>
                            <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">โ</button>
                        </div>
                        
                        <div class="bg-gradient-to-br from-purple-400 to-purple-600 h-48 rounded-lg flex items-center justify-center mb-4">
                            <div class="text-6xl">${video.thumbnail}</div>
                            <div class="absolute bg-black bg-opacity-70 text-white px-3 py-2 rounded-full">
                                โถ๏ธ ${video.duration}
                            </div>
                        </div>
                        
                        <p class="text-gray-600 mb-4">${video.description}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <h4 class="font-semibold mb-2">ููุงุฏ ูุงุฒู:</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    ${video.ingredients.map(ingredient => `<li>โข ${ingredient}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">ูุฑุงุญู ุชูู:</h4>
                                <ol class="text-sm text-gray-600 space-y-1">
                                    ${video.steps.map((step, index) => `<li>${index + 1}. ${step}</li>`).join('')}
                                </ol>
                            </div>
                        </div>
                        
                        <div class="bg-gray-100 p-3 rounded-lg text-center">
                            <p class="text-sm text-gray-600 mb-2">ุงู ูุฏู ูููููโุง ุงุฒ ุขููุฒุดโูุง ูุง ุงุณุช</p>
                            <p class="text-xs text-gray-500">ุจุฑุง ูุดุงูุฏู ูุฏููุง ฺฉุงููุ ูุทูุงู ุจุง ูุง ุชูุงุณ ุจฺฏุฑุฏ</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Close modal on outside click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // Load products with animation
        function loadProducts(productsToShow = filteredProducts) {
            const grid = document.getElementById('productsGrid');
            const spinner = document.getElementById('loadingSpinner');
            
            spinner.classList.remove('hidden');
            grid.innerHTML = '';
            
            setTimeout(() => {
                grid.innerHTML = productsToShow.map(product => {
                    const discountPrice = product.discount > 0 ? product.price * (1 - product.discount / 100) : product.price;
                    const stars = 'โญ'.repeat(Math.floor(product.rating));
                    
                    return `
                        <div class="bread-card bg-white rounded-lg shadow-md overflow-hidden relative">
                            ${product.discount > 0 ? `<div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold">${product.discount}% ุชุฎูู</div>` : ''}
                            <div class="p-6 text-center">
                                <div class="text-6xl mb-4">${product.image}</div>
                                <h4 class="text-xl font-semibold mb-2">${product.name}</h4>
                                <p class="text-gray-600 mb-3">${product.description}</p>
                                <div class="star-rating mb-2">${stars} <span class="text-gray-600 text-sm">(${product.rating})</span></div>
                                <div class="mb-4">
                                    ${product.discount > 0 ? 
                                        `<div class="text-lg text-gray-500 line-through">${product.price.toLocaleString()} ุชููุงู</div>
                                         <div class="text-2xl font-bold text-green-600">${discountPrice.toLocaleString()} ุชููุงู</div>` :
                                        `<div class="text-2xl font-bold text-green-600">${product.price.toLocaleString()} ุชููุงู</div>`
                                    }
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button onclick="addToCart(${product.id})" class="flex-1 bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105">
                                        ุงูุฒูุฏู ุจู ุณุจุฏ ูุงู
                                    </button>
                                    <button onclick="toggleWishlist(${product.id})" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-lg transition-all duration-300">
                                        โค๏ธ
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
                spinner.classList.add('hidden');
            }, 500);
        }

        // Filter products
        function filterProducts(category) {
            if (category === 'all') {
                filteredProducts = [...products];
            } else {
                filteredProducts = products.filter(product => product.category === category);
            }
            loadProducts();
            loadVideoTutorials();
        }

        // Sort products
        function sortProducts(sortBy) {
            switch(sortBy) {
                case 'name':
                    filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filteredProducts.sort((a, b) => b.rating - a.rating);
                    break;
            }
            loadProducts();
            loadVideoTutorials();
        }

        // Search products
        function searchProducts(query) {
            if (!query) {
                filteredProducts = [...products];
            } else {
                filteredProducts = products.filter(product => 
                    product.name.includes(query) || product.description.includes(query)
                );
            }
            loadProducts();
            loadVideoTutorials();
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                const discountPrice = product.discount > 0 ? product.price * (1 - product.discount / 100) : product.price;
                cart.push({ ...product, quantity: 1, finalPrice: discountPrice });
            }
            
            updateCartUI();
            showNotification(`${product.name} ุจู ุณุจุฏ ูุงู ุงุถุงูู ุดุฏ`);
        }

        // Update cart UI
        function updateCartUI() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const subtotalPrice = document.getElementById('subtotalPrice');
            const shippingPrice = document.getElementById('shippingPrice');
            const totalPrice = document.getElementById('totalPrice');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const subtotal = cart.reduce((sum, item) => sum + (item.finalPrice * item.quantity), 0);
            const shipping = subtotal > 50000 ? 0 : 5000;
            const total = subtotal + shipping;
            
            cartCount.textContent = totalItems;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="text-center text-gray-500 py-8">ุณุจุฏ ูุงู ุดูุง ุฎุงู ุงุณุช</div>';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-2xl">${item.image}</span>
                            <div>
                                <div class="font-semibold">${item.name}</div>
                                <div class="text-sm text-gray-600">${item.finalPrice.toLocaleString()} ุชููุงู</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <button onclick="changeQuantity(${item.id}, -1)" class="bg-red-500 hover:bg-red-600 text-white w-6 h-6 rounded-full text-sm">-</button>
                            <span class="mx-2">${item.quantity}</span>
                            <button onclick="changeQuantity(${item.id}, 1)" class="bg-green-500 hover:bg-green-600 text-white w-6 h-6 rounded-full text-sm">+</button>
                        </div>
                    </div>
                `).join('');
            }
            
            subtotalPrice.textContent = `${subtotal.toLocaleString()} ุชููุงู`;
            shippingPrice.textContent = shipping === 0 ? 'ุฑุงฺฏุงู' : `${shipping.toLocaleString()} ุชููุงู`;
            totalPrice.textContent = `${total.toLocaleString()} ุชููุงู`;
        }

        // Change quantity
        function changeQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    cart = cart.filter(cartItem => cartItem.id !== productId);
                }
                updateCartUI();
            }
        }

        // Toggle wishlist
        function toggleWishlist(productId) {
            const product = products.find(p => p.id === productId);
            const existingIndex = wishlist.findIndex(item => item.id === productId);
            
            if (existingIndex > -1) {
                wishlist.splice(existingIndex, 1);
                showNotification(`${product.name} ุงุฒ ุนูุงููโููุฏโูุง ุญุฐู ุดุฏ`);
            } else {
                wishlist.push(product);
                showNotification(`${product.name} ุจู ุนูุงููโููุฏโูุง ุงุถุงูู ุดุฏ โค๏ธ`);
            }
            
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistUI();
        }

        // Show profile
        function showProfile() {
            if (!currentUser) {
                showNotification('ูุทูุงู ุงุจุชุฏุง ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุดูุฏ', 'error');
                return;
            }
            
            const profileContent = document.getElementById('profileContent');
            profileContent.innerHTML = `
                <div class="space-y-4">
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐ค</span>
                        <div>
                            <div class="font-semibold">ูุงู ฺฉุงูู</div>
                            <div class="text-gray-600">${currentUser.name || 'ุชุนุฑู ูุดุฏู'}</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐ง</span>
                        <div>
                            <div class="font-semibold">ุงูู</div>
                            <div class="text-gray-600">${currentUser.email || 'ุชุนุฑู ูุดุฏู'}</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐ฑ</span>
                        <div>
                            <div class="font-semibold">ุดูุงุฑู ุชููู</div>
                            <div class="text-gray-600">${currentUser.phone || 'ุชุนุฑู ูุดุฏู'}</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">๐</span>
                        <div>
                            <div class="font-semibold">ุชุงุฑุฎ ุนุถูุช</div>
                            <div class="text-gray-600">${currentUser.registeredAt ? new Date(currentUser.registeredAt).toLocaleDateString('fa-IR') : 'ูุงูุดุฎุต'}</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('profileModal').classList.remove('hidden');
        }

        // Show orders
        function showOrders() {
            if (!currentUser) {
                showNotification('ูุทูุงู ุงุจุชุฏุง ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุดูุฏ', 'error');
                return;
            }
            
            const userOrders = orders.filter(order => order.userId === currentUser.id);
            const ordersContent = document.getElementById('ordersContent');
            
            if (userOrders.length === 0) {
                ordersContent.innerHTML = '<div class="text-center text-gray-500 py-8">ุดูุง ูููุฒ ุณูุงุฑุด ูุฏุงุฑุฏ</div>';
            } else {
                ordersContent.innerHTML = userOrders.map(order => `
                    <div class="border rounded-lg p-4 mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <div class="font-semibold">ุณูุงุฑุด #${order.id}</div>
                            <div class="text-sm text-gray-600">${new Date(order.date).toLocaleDateString('fa-IR')}</div>
                        </div>
                        <div class="space-y-2 mb-3">
                            ${order.items.map(item => `
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center space-x-2 space-x-reverse">
                                        <span>${item.image}</span>
                                        <span>${item.name}</span>
                                        <span class="text-gray-600">ร ${item.quantity}</span>
                                    </div>
                                    <span>${(item.finalPrice * item.quantity).toLocaleString()} ุชููุงู</span>
                                </div>
                            `).join('')}
                        </div>
                        <div class="flex justify-between items-center pt-3 border-t">
                            <div class="font-semibold">ูุฌููุน: ${order.total.toLocaleString()} ุชููุงู</div>
                            <div class="px-3 py-1 rounded-full text-sm ${
                                order.status === 'delivered' ? 'bg-green-100 text-green-800' :
                                order.status === 'preparing' ? 'bg-yellow-100 text-yellow-800' :
                                'bg-blue-100 text-blue-800'
                            }">
                                ${order.status === 'delivered' ? 'ุชุญูู ุดุฏู' :
                                  order.status === 'preparing' ? 'ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ' :
                                  'ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ'}
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            document.getElementById('ordersModal').classList.remove('hidden');
        }

        // Show wishlist
        function showWishlist() {
            const wishlistContent = document.getElementById('wishlistContent');
            
            if (wishlist.length === 0) {
                wishlistContent.innerHTML = '<div class="col-span-full text-center text-gray-500 py-8">ุนูุงููโููุฏโูุง ุดูุง ุฎุงู ุงุณุช</div>';
            } else {
                wishlistContent.innerHTML = wishlist.map(product => `
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="text-center">
                            <div class="text-4xl mb-2">${product.image}</div>
                            <h4 class="font-semibold mb-2">${product.name}</h4>
                            <div class="text-green-600 font-bold mb-3">${product.price.toLocaleString()} ุชููุงู</div>
                            <div class="flex space-x-2 space-x-reverse">
                                <button onclick="addToCart(${product.id})" class="flex-1 bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded text-sm">
                                    ุงูุฒูุฏู ุจู ุณุจุฏ ูุงู
                                </button>
                                <button onclick="toggleWishlist(${product.id})" class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm">
                                    ุญุฐู
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            document.getElementById('wishlistModal').classList.remove('hidden');
        }

        // Update wishlist UI
        function updateWishlistUI() {
            // Update wishlist button colors in product grid
            document.querySelectorAll('[onclick^="toggleWishlist"]').forEach(btn => {
                const productId = parseInt(btn.getAttribute('onclick').match(/\d+/)[0]);
                const isInWishlist = wishlist.some(item => item.id === productId);
                btn.style.backgroundColor = isInWishlist ? '#ef4444' : '#e5e7eb';
                btn.style.color = isInWishlist ? 'white' : '#374151';
            });
        }

        // Scroll to products
        function scrollToProducts() {
            document.querySelector('#productsGrid').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            // Set color based on type
            notification.className = `fixed top-4 left-4 px-6 py-3 rounded-lg shadow-lg notification z-50 ${
                type === 'error' ? 'bg-red-500' : 'bg-green-500'
            } text-white`;
            
            notificationText.textContent = message;
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // Chat functionality
        function addChatMessage(message, isUser = false) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `p-3 rounded-lg mb-3 ${isUser ? 'bg-purple-100 mr-4' : 'bg-blue-100 ml-4'}`;
            
            messageDiv.innerHTML = `
                <div class="font-semibold ${isUser ? 'text-purple-800' : 'text-blue-800'}">
                    ${isUser ? (currentUser ? currentUser.name : 'ุดูุง') : 'ูุดุงูุฑ ูุฑูุด'}
                </div>
                <div class="text-sm">${message}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Update checkout summary
        function updateCheckoutSummary() {
            const checkoutSummary = document.getElementById('checkoutSummary');
            const checkoutSubtotal = document.getElementById('checkoutSubtotal');
            const checkoutShipping = document.getElementById('checkoutShipping');
            const checkoutTotal = document.getElementById('checkoutTotal');
            
            const subtotal = cart.reduce((sum, item) => sum + (item.finalPrice * item.quantity), 0);
            const shipping = subtotal > 50000 ? 0 : 5000;
            const total = subtotal + shipping;
            
            checkoutSummary.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-2 space-x-reverse">
                        <span>${item.image}</span>
                        <span>${item.name}</span>
                        <span class="text-gray-600">ร ${item.quantity}</span>
                    </div>
                    <span>${(item.finalPrice * item.quantity).toLocaleString()} ุชููุงู</span>
                </div>
            `).join('');
            
            checkoutSubtotal.textContent = `${subtotal.toLocaleString()} ุชููุงู`;
            checkoutShipping.textContent = shipping === 0 ? 'ุฑุงฺฏุงู' : `${shipping.toLocaleString()} ุชููุงู`;
            checkoutTotal.textContent = `${total.toLocaleString()} ุชููุงู`;
            
            // Pre-fill user information if available
            if (currentUser) {
                document.getElementById('deliveryName').value = currentUser.name || '';
                document.getElementById('deliveryPhone').value = currentUser.phone || '';
            }
        }

        // Process order
        function processOrder() {
            const deliveryInfo = {
                name: document.getElementById('deliveryName').value,
                phone: document.getElementById('deliveryPhone').value,
                address: document.getElementById('deliveryAddress').value
            };
            
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            
            let paymentInfo = { method: paymentMethod };
            if (paymentMethod === 'card') {
                paymentInfo = {
                    method: 'card',
                    cardNumber: document.getElementById('cardNumber').value,
                    cardExpiry: document.getElementById('cardExpiry').value,
                    cardHolder: document.getElementById('cardHolder').value,
                    // CVV is not stored for security
                };
            }
            
            // Calculate totals
            const subtotal = cart.reduce((sum, item) => sum + (item.finalPrice * item.quantity), 0);
            const shipping = subtotal > 50000 ? 0 : 5000;
            const total = subtotal + shipping;
            
            // Create order
            const newOrder = {
                id: Date.now(),
                userId: currentUser.id,
                items: [...cart],
                deliveryInfo: deliveryInfo,
                paymentInfo: paymentInfo,
                subtotal: subtotal,
                shipping: shipping,
                total: total,
                date: new Date().toISOString(),
                status: 'confirmed'
            };
            
            orders.push(newOrder);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Generate and show invoice
            generateInvoice(newOrder);
            
            // Clear cart and close checkout modal
            cart = [];
            updateCartUI();
            document.getElementById('checkoutModal').classList.add('hidden');
            document.getElementById('invoiceModal').classList.remove('hidden');
            
            showNotification('ุณูุงุฑุด ุดูุง ุจุง ููููุช ุซุจุช ุดุฏ! ๐');
        }

        // Generate invoice
        function generateInvoice(order) {
            const invoiceContent = document.getElementById('invoiceContent');
            const orderDate = new Date(order.date);
            
            invoiceContent.innerHTML = `
                <!-- Invoice Header -->
                <div class="text-center border-b pb-3 mb-4">
                    <div class="text-2xl mb-1">๐</div>
                    <h2 class="text-lg font-bold text-gray-800">ูุงููุง ุทูุง</h2>
                    <p class="text-xs text-gray-500">ุชููู: 021-12345678</p>
                </div>

                <!-- Invoice Info -->
                <div class="grid grid-cols-2 gap-4 mb-4 text-xs">
                    <div class="space-y-1">
                        <div class="flex justify-between">
                            <span class="text-gray-600">ุดูุงุฑู:</span>
                            <span class="font-semibold">#${order.id}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ุชุงุฑุฎ:</span>
                            <span>${orderDate.toLocaleDateString('fa-IR')}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ูุถุนุช:</span>
                            <span class="text-green-600 font-semibold">ุชุงุฏ ุดุฏู</span>
                        </div>
                    </div>
                    
                    <div class="space-y-1">
                        <div class="flex justify-between">
                            <span class="text-gray-600">ูุงู:</span>
                            <span>${order.deliveryInfo.name}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ุชููู:</span>
                            <span>${order.deliveryInfo.phone}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ูพุฑุฏุงุฎุช:</span>
                            <span>${order.paymentInfo.method === 'card' ? '๐ณ ฺฉุงุฑุช' : '๐ต ููุฏ'}</span>
                        </div>
                    </div>
                </div>

                <!-- Order Items -->
                <div class="mb-4">
                    <h3 class="text-sm font-semibold mb-2">ุณูุงุฑุดุงุช:</h3>
                    <div class="space-y-2">
                        ${order.items.map(item => `
                            <div class="flex justify-between items-center text-xs bg-gray-50 p-2 rounded">
                                <div class="flex items-center space-x-2 space-x-reverse">
                                    <span>${item.image}</span>
                                    <span>${item.name}</span>
                                    <span class="text-gray-600">ร ${item.quantity}</span>
                                </div>
                                <span class="font-semibold">${(item.finalPrice * item.quantity).toLocaleString()} ุชููุงู</span>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Totals -->
                <div class="border-t pt-3">
                    <div class="space-y-1 text-sm">
                        <div class="flex justify-between">
                            <span>ุฌูุน ฺฉู:</span>
                            <span>${order.subtotal.toLocaleString()} ุชููุงู</span>
                        </div>
                        <div class="flex justify-between">
                            <span>ุงุฑุณุงู:</span>
                            <span>${order.shipping === 0 ? 'ุฑุงฺฏุงู' : order.shipping.toLocaleString() + ' ุชููุงู'}</span>
                        </div>
                        <div class="flex justify-between text-base font-bold border-t pt-2">
                            <span>ูุฌููุน:</span>
                            <span class="text-green-600">${order.total.toLocaleString()} ุชููุงู</span>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="text-center text-xs text-gray-500 border-t pt-3 mt-4">
                    <p>ุฒูุงู ุชุญูู: ณฐ ุฏููู | ุดูุงุฑู ูพฺฏุฑ: ${order.id}</p>
                </div>
            `;
        }

        // Print invoice
        function printInvoice() {
            const invoiceContent = document.getElementById('invoiceContent').innerHTML;
            const printWindow = window.open('', '_blank');
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html lang="fa" dir="rtl">
                <head>
                    <meta charset="UTF-8">
                    <title>ูุงฺฉุชูุฑ ุฎุฑุฏ - ูุงููุง ุทูุง</title>
                    <style>
                        body { font-family: 'Vazir', Arial, sans-serif; margin: 20px; }
                        .text-center { text-align: center; }
                        .text-right { text-align: right; }
                        .font-bold { font-weight: bold; }
                        .text-gray-600 { color: #6b7280; }
                        .text-green-600 { color: #059669; }
                        .border-b { border-bottom: 1px solid #e5e7eb; }
                        .border-t { border-top: 1px solid #e5e7eb; }
                        .pb-6 { padding-bottom: 1.5rem; }
                        .pt-4 { padding-top: 1rem; }
                        .mb-2 { margin-bottom: 0.5rem; }
                        .mb-3 { margin-bottom: 0.75rem; }
                        .mt-4 { margin-top: 1rem; }
                        .space-y-2 > * + * { margin-top: 0.5rem; }
                        .grid { display: grid; }
                        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
                        .gap-6 { gap: 1.5rem; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { padding: 0.75rem; border: 1px solid #e5e7eb; }
                        th { background-color: #f9fafb; }
                        .divide-y > * + * { border-top: 1px solid #e5e7eb; }
                        .flex { display: flex; }
                        .justify-between { justify-content: space-between; }
                        .justify-end { justify-content: flex-end; }
                        .items-center { align-items: center; }
                        .space-x-reverse > * + * { margin-right: 0.5rem; }
                        .w-64 { width: 16rem; }
                        @media print {
                            body { margin: 0; }
                            .no-print { display: none; }
                        }
                    </style>
                </head>
                <body>
                    ${invoiceContent}
                </body>
                </html>
            `);
            
            printWindow.document.close();
            printWindow.focus();
            printWindow.print();
            printWindow.close();
        }

        // Download invoice as PDF (simplified version)
        function downloadInvoice() {
            // This is a simplified version - in a real application, you would use a library like jsPDF
            showNotification('ูุงุจูุช ุฏุงูููุฏ PDF ุฏุฑ ูุณุฎู ฺฉุงูู ูุนุงู ุฎูุงูุฏ ุดุฏ');
            
            // Alternative: Create a downloadable HTML file
            const invoiceContent = document.getElementById('invoiceContent').innerHTML;
            const htmlContent = `
                <!DOCTYPE html>
                <html lang="fa" dir="rtl">
                <head>
                    <meta charset="UTF-8">
                    <title>ูุงฺฉุชูุฑ ุฎุฑุฏ - ูุงููุง ุทูุง</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .text-center { text-align: center; }
                        .font-bold { font-weight: bold; }
                        .text-gray-600 { color: #6b7280; }
                        .text-green-600 { color: #059669; }
                        .border-b { border-bottom: 1px solid #e5e7eb; padding-bottom: 1.5rem; }
                        .border-t { border-top: 1px solid #e5e7eb; padding-top: 1rem; }
                        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
                        table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
                        th, td { padding: 0.75rem; border: 1px solid #e5e7eb; text-align: right; }
                        th { background-color: #f9fafb; }
                        .flex { display: flex; justify-content: space-between; }
                    </style>
                </head>
                <body>
                    ${invoiceContent}
                </body>
                </html>
            `;
            
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `invoice-${Date.now()}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Auto responses
        const autoResponses = [
            'ููููู ุงุฒ ูพุงูุชูู! ฺุทูุฑ ูโุชููู ฺฉูฺฉุชูู ฺฉููุ',
            'ุญุชูุงู! ฺฉุฏูู ูุงู ุฑู ูโุฎูุงุฏุ',
            'ุจููุ ุชูุงู ูุงูโูุงููู ุชุงุฒู ู ฺฏุฑู ูุณุชู ๐ฅ',
            'ุงุฑุณุงู ุฑุงฺฏุงู ุจุฑุง ุฎุฑุฏูุง ุจุงูุง ตฐ ูุฒุงุฑ ุชููุงู',
            'ุฒูุงู ุชุญูู ูุนูููุงู ณฐ ุฏููู ุงุณุช',
            'ูโุชููุฏ ุจุง ฺฉุงุฑุช ุง ููุฏ ูพุฑุฏุงุฎุช ฺฉูุฏ',
            'ูุง ุจุด ุงุฒ ฒฐ ููุน ูุงู ูุฎุชูู ุฏุงุฑู',
            'ุชุฎููโูุง ูฺู ุจุฑุง ูุดุชุฑุงู VIP ุฏุงุฑู'
        ];

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize session on page load
            initializeSession();
            
            // Auth form handlers
            document.getElementById('mainLoginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('mainUsernameInput').value;
                const password = document.getElementById('mainPasswordInput').value;
                const rememberMe = document.querySelector('#mainLoginForm input[type="checkbox"]').checked;
                login(username, password, rememberMe);
            });

            document.getElementById('registerForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const password = document.getElementById('regPasswordInput').value;
                const confirmPassword = document.getElementById('confirmPasswordInput').value;
                
                if (password !== confirmPassword) {
                    showNotification('ุฑูุฒูุง ุนุจูุฑ ูุทุงุจูุช ูุฏุงุฑูุฏ!', 'error');
                    return;
                }
                
                const userData = {
                    name: document.getElementById('fullNameInput').value,
                    username: document.getElementById('regUsernameInput').value,
                    email: document.getElementById('emailInput').value,
                    phone: document.getElementById('phoneInput').value,
                    password: password
                };
                
                register(userData);
            });

            document.getElementById('forgotPasswordForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const email = document.getElementById('forgotEmailInput').value;
                showNotification('ููฺฉ ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ ุจู ุงูู ุดูุง ุงุฑุณุงู ุดุฏ');
                showLoginSection();
            });

            // Navigation between auth forms
            document.getElementById('showRegisterBtn').addEventListener('click', showRegisterSection);
            document.getElementById('showLoginBtn').addEventListener('click', showLoginSection);
            document.getElementById('forgotPasswordBtn').addEventListener('click', showForgotPasswordSection);
            document.getElementById('backToLoginBtn').addEventListener('click', showLoginSection);

            // Logout
            document.getElementById('logoutBtn').addEventListener('click', (e) => {
                e.preventDefault();
                logout();
            });

            loadProducts();
            loadVideoTutorials();

            // Search functionality
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchProducts(e.target.value);
            });

            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    filterProducts(e.target.dataset.category);
                });
            });

            // Sort functionality
            document.getElementById('sortSelect').addEventListener('change', (e) => {
                sortProducts(e.target.value);
            });

            // User menu
            document.getElementById('userBtn').addEventListener('click', () => {
                document.getElementById('userMenu').classList.toggle('hidden');
            });



            // Cart modal
            document.getElementById('cartBtn').addEventListener('click', () => {
                document.getElementById('cartModal').classList.remove('hidden');
            });

            document.getElementById('closeCart').addEventListener('click', () => {
                document.getElementById('cartModal').classList.add('hidden');
            });

            // Checkout
            document.getElementById('checkoutBtn').addEventListener('click', () => {
                if (cart.length === 0) {
                    showNotification('ุณุจุฏ ูุงู ุดูุง ุฎุงู ุงุณุช!');
                    return;
                }
                
                if (!currentUser) {
                    showNotification('ูุทูุงู ุงุจุชุฏุง ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุดูุฏ', 'error');
                    return;
                }
                
                // Show checkout modal
                document.getElementById('cartModal').classList.add('hidden');
                document.getElementById('checkoutModal').classList.remove('hidden');
            });

            // Chat
            document.getElementById('chatToggle').addEventListener('click', () => {
                document.getElementById('chatBox').classList.toggle('hidden');
            });

            document.getElementById('closeChatBtn').addEventListener('click', () => {
                document.getElementById('chatBox').classList.add('hidden');
            });

            document.getElementById('sendChatBtn').addEventListener('click', () => {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                
                if (message) {
                    addChatMessage(message, true);
                    input.value = '';
                    
                    // Auto response after 1 second
                    setTimeout(() => {
                        const randomResponse = autoResponses[Math.floor(Math.random() * autoResponses.length)];
                        addChatMessage(randomResponse);
                    }, 1000);
                }
            });

            // Enter key for chat
            document.getElementById('chatInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    document.getElementById('sendChatBtn').click();
                }
            });

            // Close modals on outside click
            document.getElementById('cartModal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('cartModal')) {
                    document.getElementById('cartModal').classList.add('hidden');
                }
            });

            document.getElementById('loginModal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('loginModal')) {
                    document.getElementById('loginModal').classList.add('hidden');
                }
            });

            // Menu handlers
            document.getElementById('profileBtn').addEventListener('click', (e) => {
                e.preventDefault();
                showProfile();
                document.getElementById('userMenu').classList.add('hidden');
            });

            document.getElementById('ordersBtn').addEventListener('click', (e) => {
                e.preventDefault();
                showOrders();
                document.getElementById('userMenu').classList.add('hidden');
            });

            document.getElementById('wishlistBtn').addEventListener('click', (e) => {
                e.preventDefault();
                showWishlist();
                document.getElementById('userMenu').classList.add('hidden');
            });

            // Hero buttons
            document.getElementById('viewProductsBtn').addEventListener('click', scrollToProducts);
            document.getElementById('contactUsBtn').addEventListener('click', () => {
                document.getElementById('contactModal').classList.remove('hidden');
            });

            // Checkout form functionality
            document.getElementById('checkoutBtn').addEventListener('click', () => {
                updateCheckoutSummary();
            });

            // Payment method toggle
            document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    const cardInfo = document.getElementById('cardInfo');
                    if (e.target.value === 'card') {
                        cardInfo.style.display = 'block';
                        // Make card fields required
                        document.getElementById('cardNumber').required = true;
                        document.getElementById('cardExpiry').required = true;
                        document.getElementById('cardCvv').required = true;
                        document.getElementById('cardHolder').required = true;
                    } else {
                        cardInfo.style.display = 'none';
                        // Remove required from card fields
                        document.getElementById('cardNumber').required = false;
                        document.getElementById('cardExpiry').required = false;
                        document.getElementById('cardCvv').required = false;
                        document.getElementById('cardHolder').required = false;
                    }
                });
            });

            // Card number formatting
            document.getElementById('cardNumber').addEventListener('input', (e) => {
                let value = e.target.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                e.target.value = formattedValue;
            });

            // Card expiry formatting
            document.getElementById('cardExpiry').addEventListener('input', (e) => {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value;
            });

            // CVV formatting
            document.getElementById('cardCvv').addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
            });

            // Checkout form submission
            document.getElementById('checkoutForm').addEventListener('submit', (e) => {
                e.preventDefault();
                processOrder();
            });

            // Modal close handlers
            document.getElementById('closeProfile').addEventListener('click', () => {
                document.getElementById('profileModal').classList.add('hidden');
            });

            document.getElementById('closeOrders').addEventListener('click', () => {
                document.getElementById('ordersModal').classList.add('hidden');
            });

            document.getElementById('closeWishlist').addEventListener('click', () => {
                document.getElementById('wishlistModal').classList.add('hidden');
            });

            document.getElementById('closeContact').addEventListener('click', () => {
                document.getElementById('contactModal').classList.add('hidden');
            });

            document.getElementById('closeCheckout').addEventListener('click', () => {
                document.getElementById('checkoutModal').classList.add('hidden');
            });

            document.getElementById('closeInvoice').addEventListener('click', () => {
                document.getElementById('invoiceModal').classList.add('hidden');
            });

            // Print and download invoice
            document.getElementById('printInvoice').addEventListener('click', () => {
                printInvoice();
            });

            document.getElementById('downloadInvoice').addEventListener('click', () => {
                downloadInvoice();
            });

            // Close modals on outside click
            [
                'profileModal', 'ordersModal', 'wishlistModal', 'contactModal', 'checkoutModal', 'invoiceModal'
            ].forEach(modalId => {
                document.getElementById(modalId).addEventListener('click', (e) => {
                    if (e.target.id === modalId) {
                        document.getElementById(modalId).classList.add('hidden');
                    }
                });
            });

            // Close user menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('#userBtn') && !e.target.closest('#userMenu')) {
                    document.getElementById('userMenu').classList.add('hidden');
                }
            });

            // Load wishlist UI on page load
            setTimeout(() => {
                updateWishlistUI();
            }, 1000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'975e1ed5a739cb3f',t:'MTc1NjMyNDQ2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
















